@{
    ViewBag.Title = "Multiple Workers";
}
<h2>@ViewBag.Title</h2>
<div>
</div>
<div class="row show-grid">
    <div class="span6">
        <div>
            <p>
                Log messages from first worker</p>
            <div>
                <input id="msg1" type="text" />
                <button id="logMessageBtn1">
                    Log Message</button></div>
            <ul id="firstList">
                <li>first item</li>
            </ul>
        </div>
    </div>
    <div class="span6">
        <div>
            <p>
                Log messages from second worker</p>
            <div>
                <input id="msg2" type="text" />
                <button id="logMessageBtn2">
                    Log Message</button></div>
            <ul id="secondList">
                <li>first item</li>
            </ul>
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {    // Add handler to Send button
        $("#logMessageBtn1").click(function () {
            hub.sendMessage("firstID", $('#msg1').val());
        });

        $("#logMessageBtn2").click(function () {
            hub.sendMessage("secondID", $('#msg2').val());
        });

        // Create a proxy for the server endpoint
        var hub = $.connection.multipleWorkersHub;
        // Add a client-side callback to process any data
        // received from the server
        hub.addMessage = function (id, message) {

            if ($('#' + id).length)
            { }

            $('#firstList').append('<li>' + message + '</li>');
        };


        // Start the conversation
        $.connection.hub.start(function () {
            log4net.listen();
        }
        );
    });
</script>
